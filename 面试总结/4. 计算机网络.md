## 计算机网络

> HTTP相关内容先看神的总结：[（建议精读）HTTP灵魂之问，巩固你的 HTTP 知识体系](https://juejin.cn/post/6844904100035821575#heading-91)
>
> TCP同理：[(建议收藏)TCP协议灵魂之问，巩固你的网路底层基础](https://juejin.cn/post/6844904070889603085)

##### 1. Get 和 post 的区别

> [你敢在post和get上刁难我，就别怪我装逼了](https://juejin.cn/post/6844903508370538503)
>
> -   get用来获取数据，post用来提交数据
> -   get参数有长度限制（受限于url长度，具体的数值取决于浏览器和服务器的限制，最长2048字节），而post无限制。
> -   get请求的数据会附加在url之 ，以 " ？ "分割url和传输数据，多个参数用 "&"连接，而post请求会把请求的数据放在http请求体中。
> -   get是明文传输，post是放在请求体中，但是开发者可以通过抓包工具看到，也相当于是明文的。
> -   get请求会被浏览器主动cache，而post不会，除非手动设置。

##### 2. http1.0 http1.1 http2.0的区别

> [HTTP各版本特性及区别](https://juejin.cn/post/6844903923136856078)

**HTTP 1.0:**

-   任意数据类型都可以发送
-   有GET、POST、HEAD三种方法
-   无法复用TCP连接(长连接)
-   有丰富的请求响应头信息。以header中的`Last-Modified`/`If-Modified-Since`和`Expires`作为缓存标识

**HTTP 1.1:**

-   引入更多的请求方法类型`PUT`、`PATCH`、`DELETE`、`OPTIONS`、`TRACE`、`CONNECT`
-   引入长连接，就是TCP连接默认不关闭，可以被多个请求复用，通过请求头connection:keep-alive设置
-   引入管道连接机制，可以在同一TCP连接里，`同时发送`多个请求
-   强化了缓存管理和控制`Cache-Control`、`ETag`/`If-None-Match`
-   支持分块响应，断点续传，利于大文件传输，能过请求头中的`Range`实现
-   使用了`虚拟网络`，在一台物理服务器上可以存在多个虚拟主机，并且共享一个IP地址

**HTTP 2:**

-   二进制分帧：不再是纯文本，避免文本歧义，缩小了请求体积
-   多路复用： 在共享TCP链接的基础上同时发送请求和响应
-   增加了安全性，使用HTTP 2.0，要求必须至少TLS 1.2
-   使用`HPACK算法将头部压缩`，用`哈夫曼编码`建立索表，传送索引大大节约了带宽
-   服务器推送：服务器可以额外的向客户端推送资源，而无需客户端明确的请求

##### 3. https加密过程

> [前端秋招保驾护————航浏览器篇](http://blog.wutortoise.cn/2021/08/10/%E7%A7%8B%E6%8B%9B%E4%BF%9D%E9%A9%BE%E6%8A%A4%E8%88%AA%E2%80%94%E2%80%94%E2%80%94%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AF%87)

##### 4. 什么是CDN

> [CDN与DNS知识汇总](http://hpoenixf.com/DNS%E4%B8%8ECDN%E7%9F%A5%E8%AF%86%E6%B1%87%E6%80%BB.html)

CDN的全称是Content Delivery Network，即内容分发网络。通俗点就是用户访问的资源原本是存放在你自己的服务器，通过修改DNS让用户根据IP等情况来选择合适的CDN缓存服务器来获取资源。过程如下：

1.  当用户点击网站页面上的内容URL，经过本地DNS系统解析，DNS系统会最终将域名的解析权交给CNAME指向的CDN专用DNS服务器。
1.  CDN的DNS服务器将CDN的全局负载均衡设备IP地址返回用户。
1.  用户向CDN的全局负载均衡设备发起内容URL访问请求。
1.  CDN全局负载均衡设备根据用户IP地址，以及用户请求的内容URL，选择一台用户所属区域的区域负载均衡设备，告诉用户向这台设备发起请求。
1.  区域负载均衡设备会为用户选择一台合适的缓存服务器提供服务，选择的依据包括：根据用户IP地址，判断哪一台服务器距用户最近；根据用户所请求的URL中携带的内容名称，判断哪一台服务器上有用户所需内容；查询各个服务器当前的负载情况，判断哪一台服务器尚有服务能力。基于以上这些条件的综合分析之后，区域负载均衡设备会向全局负载均衡设备返回一台缓存服务器的IP地址。
1.  全局负载均衡设备把服务器的IP地址返回给用户
1.  用户向缓存服务器发起请求，缓存服务器响应用户请求，将用户所需内容传送到用户终端。如果这台缓存服务器上并没有用户想要的内容，而区域均衡设备依然将它分配给了用户，那么这台服务器就要向它的上一级缓存服务器请求内容，直至追溯到网站的源服务器将内容拉到本地。

##### 5. TCP和UDP的区别

- TCP是一个**面向连接的**、**可靠的**、基于字节流的传输层协议。

- 而UDP是一个面向无连接的传输层协议。 (就这么简单，其它TCP的特性也就没有了)。

##### 6. TCP三次握手

-   客户端发送SYN，表明要向服务器建立连接。同时带上序列号ISN
-   服务器返回ACK（序号为客户端序列号+1）作为确认。同时发送SYN作为应答（SYN的序列号为服务端唯一的序号）
-   客户端发送ACK确认收到回复（序列号为服务端序列号+1）\
    ![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/524a1ea0146643caac1d868d96d9815b~tplv-k3u1fbpfcp-zoom-1.image)

> 1、为什么是是三次握手不是两次或四次？
>
> 因为，tcp连接是全双工的，数据在两个方向上能同时传递。所以要确保双方，同时能发数据和收数据
>
> -   第一次握手：证明了发送方能发数据
> -   第二次握手：ack确保了接收方能收数据，syn确保了接收方能发数据
> -   第三次握手：确保了发送方能收数据
> -   四次握手浪费，两次握手不能保证“双方同时具备收发功能”
>
> 2、为什么 客户端 最后还要发送一次确认？\
> 主要是为了防止已失效的连接请求报文段突然又传到了 服务器，因而产生错误。

##### 7. TCP四次挥手

-   主动关闭的一方发送FIN，表示要单方面关闭数据的传输
-   服务端收到FIN后，发送一个ACK作为确认（序列号为收到的序列号+1）
-   等服务器数据传输完毕，也发送一个FIN标识，表示关闭这个方向的数据传输
-   客户端回复ACK以确认回复\
    ![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bcd40b8e3df14d349ef96e46d0fb9db0~tplv-k3u1fbpfcp-zoom-1.image)

> 1、为什么挥手是四次而握手是三次？\
> TCP释放连接时之所以需要“四次挥手”,是因为FIN释放连接报文与ACK确认接收报文是分别由第二次和第三次"握手"传输的。为何建立连接时一起传输，释放连接时却要分开传输？
>
> -   建立连接时，被动方服务器端结束CLOSED阶段进入“握手”阶段并不需要任何准备，可以直接返回SYN和ACK报文，开始建立连接。
> -   释放连接时，被动方服务器，突然收到主动方客户端释放连接的请求时并不能立即释放连接，因为还有必要的数据需要处理，所以服务器先返回ACK确认收到报文，经过CLOSE-WAIT阶段准备好释放连接之后，才能返回FIN释放连接报文。

##### 8. 如果想减少TCP连接次数，可以怎么操作

采用http2.0，进行多路复用

##### 9. TCP的流量控制

##### 10. TCP拥塞控制