# 操作系统

基础课程之一，先浏览视频简历知识体系，后通读《现代操作系统》写博客

## 基本概念

- 操作系统的概念、特征、提供的服务
- 特权指令、非特权指令、操作系统的内核
- 中断和异常
- 系统调用



## 进程

- 进程的定义、组成、组织方式、特征
- 进程的状态和转换（5中状态、7种状态）
- 进程的通信：共享存储、管道通信、消息传递
- 进程和线程的区别
- 处理机的调度：高级调度（作业调度）、中级调度（虚拟存储技术）、低级调度（进程调度）
- 进程调度算法： FCFS、短进程优先调度、时间轮片调度算法、不可剥夺优先级调度算法、可剥夺优先级调度算法
- 进程的同步、互斥
- 进程互斥的实现：软件层面、硬件层面、信号量、管程
- 死锁的概念、产生条件、发生时机
- 死锁的处理方法：预防死锁、避免死锁（银行家算法）、死锁的检测和解除



# 数据库

基础课程之一，开发过程中经常使用。先看视频简历知识体系，后学习java的过程中逐渐深入。



## 基本概念

#### 1. 什么是数据库？什么是数据库管理系统？什么是SQL？他们的关系是什么？

数据库（database）：按照一定格式存储数据的一些文件的组合

数据库管理系统（DataBaseManagement）：用于管理数据库中的数据，可以对数据进行增删改查

SQL：结构化查询语言，程序运猿编写SQL语句，DBMS负责执行SQL语句，最终完成数据的增删改查

关系：DBMS执行SQL语句操作DB

#### 2. 数据库常见指令

- exit：退出
- show databases：查看数据库
- use name：使用某个数据库
- create database name：创建数据库

#### 3. 表

表（table）：数据库中最基本的单元

- 数据库中以表的形式存储数据，表的形式比较直观

- 任何一张表都有行和列
  - 行（row）：称位数据/记录
  - 列（colum）：被称为字段



## SQL语句

#### 1. 假设一个表的主键是创建日期和id，还有一个属性是访问量，怎么通过sql语句求出平均每天访问量最大的id

**主要思路：**

```mysql
select  id  
from ( select 
       表名.id as id, 
       表名.访问量/(日期差计算函数(表名.create_time , now())+1) as 平均日访问量
    from 表名
)  as  临时表
where 临时表.平均日访问量 = (
    select
         max( 表名.访问量/(日期差计算函数(表名.create_time , now())+1) )
    from 表名  
)

```

在`mysql`中,如果`create_time`使用的是`TIMESTAMP`类型，则用 `TIMESTAMPDIFF( DAY, create_time , now()) + 1` 计算日期差

```mysql
select  表名.id 
from    表名 
inner join (
    select 
        表名.id as id,
        表名.create_time as create_time,
        max( 表名.访问量/(日期差计算函数(表名.create_time , now())+1) ) as 最大平均日访问量
    from 表名 
) as 临时表 on (表名.id = 临时表.id and 表名.create_time = 临时表.create_time)
```



## 约束



## 事务

#### 1. 什么是事务？

一个事务其实就是一个完整的业务逻辑

eg. a账户向b账户转账100元

- a账户钱 -100（update语句）
- b账户 +100（update语句）

以上操作是一个最小的工作单元，要么同时成功，要么同时失败，不可再分。



#### 2. 只有DML才有事务一说，其他语句和事务无关

只有insert、delete、update三个语句和事务有关，因为只有以上三个语句是数据库表中的数据进行增删改。而涉及到增删改就要考虑安全问题。



#### 3. 事务的理解

事务不是一个语句完成的，是由多个语句共同协作完成的。因为完成一个业务逻辑，需要多个步骤对应多个语句完成，如果任何事务一条DML语句执行，那么事务就失去了价值。**所以事务可以认为是一批同时成功、同时失败的DML语句。**



#### 4. 事务是如何实现的？

在执行事务时，每一条DML的操作都会记录到“事务性活动文件中”，在事务执行的过程中可以**提交事务**，也可以**回滚事务**。

- 提交事务：清空事务性活动日志，将数据全部彻底持久化到数据库表中。标志着事务的成功结束。
- 回滚事务：将之前的所有DML操作全部撤销，清空事务性活动日志。标志着事务的失败结束。



#### 5. 事务的特性

- 原子性：事务是最小的工作单元，不可再分
- 一致性：同一个事务中的操作同时成功或同时失败，以保证数据的一致性
- 隔离性：两个事务之间有一定的隔离
- 持久性：事务最终结束时，将数据进行存储



#### 6. 事务隔离级别

四个级别：

- 读未提交：read uncommitted（级别最低）
  - 事务A可以读取到事务B未提交的数据
  - 存在的问题：脏读（Dirty Read）现象
- 读已提交：read committed
  - 事务A只能读取到事务B已提交的数据，这是大多数据库的隔离级别
  - 解决的问题：脏读现象
  - 存在的问题：不可重复读取数据，在事务开启后
- 可重复读：repeatable read
  - 可重复读取：事务A开启后，不管多久，每一次在事务A中读取的数据都是一致的。
  - 解决了问题：不可重复读
- 序列化：serializable（级别最高）



## 索引

#### 1. 什么是索引？

索引是在数据库表的字段上添加的，是为了提高查询效率的一种机制。



#### 2. MySql两种存储引擎区别

| 引擎   | 特性                                                         |
| ------ | ------------------------------------------------------------ |
| MYISAM | 不支持外键，表锁，插入数据时，锁定整个表，查表总行数时，不需要全表扫描 |
| INNODB | 支持外键，行锁，查表总行数时，全表扫描                       |



#### 3. 索引的方式

| 索引 | 区别                                                |
| ---- | --------------------------------------------------- |
| Hash | hash索引，等值查询效率高，不能排序,不能进行范围查询 |
| B+   | 数据有序,范围查询                                   |



#### 4. 索引的分类

| 索引类型 | 概念                                                      |
| -------- | --------------------------------------------------------- |
| 普通索引 | 最基本的索引，没有任何限制                                |
| 唯一索引 | 数据有序,范围查询                                         |
| 主键索引 | 它是一种特殊的唯一索引，不允许有空值。                    |
| 全文索引 | 针对较大的数据，生成全文索引很耗时好空间。                |
| 组合索引 | 为了更多的提高mysql效率可建立组合索引，遵循”最左前缀“原则 |



#### 5. 索引的优缺点，什么时候使用索引，什么时候不能使用索引

索引最大的好处是提高查询速度， 缺点是更新数据时效率低，因为要同时更新索引 对数据进行频繁查询进建立索引，如果要频繁更改数据不建议使用索引。



## 设计模式

**1. 观察者模式和发布订阅模式**

> [秋招保驾护航——vue篇之数据双向绑定](https://juejin.cn/post/6993373656051089421)



##### 2. 单例模式



