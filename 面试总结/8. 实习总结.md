

## 实习内容回顾

工作简介：实习期间主要参与了腾讯电子签小程序的开发，主要功能是实现收据、借条、合同等信息的电子化。 

工作内容：

- 七夕介绍页面的开发
- 收据和合同列表页的开发、重构
- 个人印章创建的入口页开发
- 赠与合同结果页的开发

工作难点： 

- 此前没有进行过小程序的开发，在来到公司以后学习了如何使用uniapp进行小程序的开发。 

- 列表页的重构，因为项目迭代速度快，导致前期收据列表和合同列表这相似功能的地方开发了两套代码。 

- 在个人印章创建的地方需要对表单进行校验，单独定义了一个from.js表单校验，在需要使用到的地方进行混入。 

- 结果页的开发需要进行模版化的配置，对结果页的内容进行了配置化的处理 

- 某次版本迭代，在控制台看到了一个bug，定位很长时间发现是一个脏数据的问题，客户存储了更新之前的信息，最后在 

相应位置加上了版本判断得以解决。



## 列表页重构

在mp-sign项目中，由于迭代的速度过快，有些地方的功能一样可以抽象成组件，但是却重复写了几次。基于上面这一点，列表页就是一个典型的例子。

首先写一个`List`基础公共组件。它主要做了如下几件事情：

- 设置一个props接受两个重要的参数：（1）是否是loading状态（2）获取数据的方法
- 获取完数据的方法需要通过ajax请求获取后端数据，因为不同列表传来的数据结构不同，需要对各自定义不同的js文件处理传来的数据，再统一返回给List组件，组件接收到数据以后就停止loading状态。
- 定义了一个插槽，用于放置不同样式的表单，但是处理的数据格式是统一的。
- 封装了一些公共的逻辑：骨架屏的展示、loading状态的展示、下拉刷新、上拖加载数据。

插槽处使用的是`ListItem`组件，他接受的数据里面需要注意的是按钮的逻辑。我们将按钮的逻辑写在了调用`List`组件的某个列表中，获取数据的方法也是在这里。



## mixin妙用——表单校验

对于一些公用的逻辑，可以采用混入的方式进行。比如在做表单校验逻辑时，很多用到表单的地方都需要使用，我们可以单独的定义一个form.js作为表单的混入。表单校验的设计思路如下：

- 定义好表单的数据结构，一般包括：值、是否错误的Boolean值、错误提示信息、校验规则
- 规定好了数据结构以后，mixin就可以定义相关操作数据的computed属性和methods方法

- 校验设计，一般在保存单个表单项后进行调用。

  - 设计时，可以在此添加几个常见的校验规则，比如长度是否满足要求，这种可以将配置内容放入一开始定义的数据结构内，在校验错误时检测到了数据项里面设置了配置便会进行一个判断。
  - 最重要的是设计调用者自己的规则。规则可以分为正则校验，这种比较简单，直接取出表单项规定的正则表达式进行判断；否则可以用户自己定义函数进行判断，然后在内部需要调用call进行绑定调用来得到校验的结果。

  

## 模版配置化——结果页兼容

一个项目里的结果页要展示多种逻辑进入后的不同结果，因此如何编写结果页，让其拥有良好的维护性和拓展性十分关键。

这里主要用了一种配置模块化的思想。步骤如下：

- 看结果页的组成要素编写html结构：图标、title、describtion、按钮
- 定义一个utils文件夹用于存放各种不同页面调用的逻辑，最后用一个总的convert.js输出
- 不同页面调用时，需要根据自己的状态定义不同的获取相应数据。注意这里有一个type，传输给convert.js，由其进行判断执行哪个逻辑，再获取相应的数据。最后渲染到本页面上来。

实现的要点主要是事先定义好相应的常量作为模版，根据传输来的不同值，调用不同的数据进行渲染。



## 写在最后

从5月14日来到腾讯电子签的团队，到九月份，已经实习了快四个月。在这个过程中学到了很多，想从个人的成长上来谈谈自己整个学习的过程。

**技术栈上的拓展。** 5月份申请提前实习的想法就是希望能学习到更多的东西，学习到我在学校里学习不到的东西。事实上在腾讯这个大环境里，只要你肯学会有学习不完的东西。技术栈上接触了uniapp、小程序、云函数、react这些没有接触过的知识，学习了很多vue高级的语法，让我看到了前端世界的丰富多彩，也让我意识到了前端的慢慢长路才刚刚开始。我现在所需要的就是打好自身的基础，在工作中不断的积累经验，坚持学习的习惯，让自己在未来新技术潮流的的冲击下顶住压力前行。

**专业的事情交给专业的人去做。** 技术上的成长不仅意味着技术栈的拓展，来到电子签团队后，见证了世界顶级公司软件产品的生产流程，我的技术视野拓宽了。对一个产品的感知不再是自己在学校里和几个同学折腾的小项目，企业级项目的开发不是几个人就可以完成的。它是一个复杂精密的过程，每一环都至关重要，且需要有专业的人去完成。最开始的需求分析，需要产品经理通过数据分析、客户反馈等各种渠道来制定合适的需求，产品经理就是腾讯电子签的万千使用者和幕后开发者沟通的桥梁；正式进入研发流程后也会经历视觉交互、重构、前后端开发、测试、上线、后期维护等过程，整个项目的开发大家需要互相配合，发挥各自所长，才能将一款产品做好；产品做好不代表就成功了，还需要靠专业的人士去推广，收集意见，接受反馈后再去迭代、优化。

**我们是一个team。** 我们看到了想要完成一个庞大的项目，需要一支充满干劲的team。很明显，我们的电子签就是这样一个扛得住压力、战斗力极强的team。在学校里的比赛我也担任过几只队伍的队长，深感很难调动起来大家，所以一直认为自己不是这块料。在和勇哥聊天的过程中，team的功劳不是因为他，而是因为我们，正因为大家都是是一样可爱的人，拥有同样的目标，才能团结在一起具有强大的战斗力。勇哥对我说，所有能力都不是与生俱来，需要不断的去尝试锻炼才能拥有。我想在后面的人生中，不要害怕去尝试，也不要因为一次两次没做好就放弃。

**天高任鸟飞，海阔任鱼游。** 在这里还有我个人的成长，和大家相处以后学到了很多为人的道理。感悟挺多的，因此在最后也送给自己几句话。要一直保持着一颗谦虚的心的学习，自己认定的目标就不要轻言放弃，哪怕失败了也要继续坚持下去。
